[{"/Users/patrickjeong/Projects/mcqms-react-graphql/client/src/index.js":"1","/Users/patrickjeong/Projects/mcqms-react-graphql/client/src/reportWebVitals.js":"2","/Users/patrickjeong/Projects/mcqms-react-graphql/client/src/components/App.js":"3","/Users/patrickjeong/Projects/mcqms-react-graphql/client/src/components/LinkList.js":"4","/Users/patrickjeong/Projects/mcqms-react-graphql/client/src/components/Link.js":"5","/Users/patrickjeong/Projects/mcqms-react-graphql/client/src/components/CreateLink.js":"6","/Users/patrickjeong/Projects/mcqms-react-graphql/client/src/components/Header.js":"7","/Users/patrickjeong/Projects/mcqms-react-graphql/client/src/components/Login.js":"8","/Users/patrickjeong/Projects/mcqms-react-graphql/client/src/constants.js":"9","/Users/patrickjeong/Projects/mcqms-react-graphql/client/src/utils.js":"10","/Users/patrickjeong/Projects/mcqms-react-graphql/client/src/components/Search.js":"11"},{"size":1733,"mtime":1609302779931,"results":"12","hashOfConfig":"13"},{"size":362,"mtime":1609257115939,"results":"14","hashOfConfig":"13"},{"size":698,"mtime":1609304069371,"results":"15","hashOfConfig":"13"},{"size":2616,"mtime":1609303645799,"results":"16","hashOfConfig":"13"},{"size":2099,"mtime":1609300669229,"results":"17","hashOfConfig":"13"},{"size":2315,"mtime":1609300766839,"results":"18","hashOfConfig":"13"},{"size":1504,"mtime":1609297476505,"results":"19","hashOfConfig":"13"},{"size":2924,"mtime":1609297881955,"results":"20","hashOfConfig":"13"},{"size":73,"mtime":1609299439825,"results":"21","hashOfConfig":"13"},{"size":1207,"mtime":1609299220647,"results":"22","hashOfConfig":"13"},{"size":1143,"mtime":1609302090897,"results":"23","hashOfConfig":"13"},{"filePath":"24","messages":"25","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"vjfb6r",{"filePath":"26","messages":"27","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"29","messages":"30","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"31","messages":"32","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"33","messages":"34","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"35","usedDeprecatedRules":"28"},{"filePath":"36","messages":"37","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"38","messages":"39","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"40","messages":"41","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"42","messages":"43","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"44","messages":"45","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"46","messages":"47","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},"/Users/patrickjeong/Projects/mcqms-react-graphql/client/src/index.js",[],"/Users/patrickjeong/Projects/mcqms-react-graphql/client/src/reportWebVitals.js",[],["48","49"],"/Users/patrickjeong/Projects/mcqms-react-graphql/client/src/components/App.js",[],"/Users/patrickjeong/Projects/mcqms-react-graphql/client/src/components/LinkList.js",["50","51","52"],"/Users/patrickjeong/Projects/mcqms-react-graphql/client/src/components/Link.js",["53","54","55"],"import React from \"react\";\nimport { useMutation, gql } from \"@apollo/client\";\nimport { AUTH_TOKEN, LINKS_PER_PAGE } from \"../constants\";\nimport { FEED_QUERY } from \"./LinkList\";\nimport { timeDifferenceForDate } from \"../utils\";\n\nconst VOTE_MUTATION = gql`\n  mutation VoteMutation($linkId: ID!) {\n    vote(linkId: $linkId) {\n      id\n      link {\n        id\n        votes {\n          id\n          user {\n            id\n          }\n        }\n      }\n      user {\n        id\n      }\n    }\n  }\n`;\n\nconst Link = (props) => {\n  const { link } = props;\n  const authToken = localStorage.getItem(AUTH_TOKEN);\n\n  const take = LINKS_PER_PAGE;\n  const skip = 0;\n  const orderBy = { createdAt: \"desc\" };\n\n  const [vote] = useMutation(VOTE_MUTATION, {\n    variables: {\n      linkId: link.id,\n    },\n    update(cache, { data: { vote } }) {\n      const { feed } = cache.readQuery({\n        query: FEED_QUERY,\n      });\n\n      const updatedLinks = feed.links.map((feedLink) => {\n        if (feedLink.id === link.id) {\n          return {\n            ...feedLink,\n            votes: [...feedLink.votes, vote],\n          };\n        }\n        return feedLink;\n      });\n\n      cache.writeQuery({\n        query: FEED_QUERY,\n        data: {\n          feed: {\n            links: updatedLinks,\n          },\n        },\n      });\n    },\n  });\n\n  return (\n    <div className=\"flex mt2 items-start\">\n      <div className=\"flex items-center\">\n        <span className=\"gray\">{props.index + 1}.</span>\n        {authToken && (\n          <div\n            className=\"ml1 gray f11\"\n            style={{ cursor: \"pointer\" }}\n            onClick={vote}\n          >\n            â–²\n          </div>\n        )}\n      </div>\n      <div className=\"ml1\">\n        <div>\n          {link.description} ({link.url})\n        </div>\n        {authToken && (\n          <div className=\"f6 lh-copy gray\">\n            {link.votes.length} votes | by{\" \"}\n            {link.postedBy ? link.postedBy.name : \"Unknown\"}{\" \"}\n            {timeDifferenceForDate(link.createdAt)}\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default Link;\n","/Users/patrickjeong/Projects/mcqms-react-graphql/client/src/components/CreateLink.js",[],"/Users/patrickjeong/Projects/mcqms-react-graphql/client/src/components/Header.js",[],"/Users/patrickjeong/Projects/mcqms-react-graphql/client/src/components/Login.js",[],"/Users/patrickjeong/Projects/mcqms-react-graphql/client/src/constants.js",[],"/Users/patrickjeong/Projects/mcqms-react-graphql/client/src/utils.js",[],"/Users/patrickjeong/Projects/mcqms-react-graphql/client/src/components/Search.js",[],{"ruleId":"56","replacedBy":"57"},{"ruleId":"58","replacedBy":"59"},{"ruleId":"60","severity":1,"message":"61","line":92,"column":9,"nodeType":"62","messageId":"63","endLine":92,"endColumn":18},{"ruleId":"60","severity":1,"message":"64","line":94,"column":17,"nodeType":"62","messageId":"63","endLine":94,"endColumn":24},{"ruleId":"60","severity":1,"message":"65","line":94,"column":26,"nodeType":"62","messageId":"63","endLine":94,"endColumn":31},{"ruleId":"60","severity":1,"message":"66","line":31,"column":9,"nodeType":"62","messageId":"63","endLine":31,"endColumn":13},{"ruleId":"60","severity":1,"message":"67","line":32,"column":9,"nodeType":"62","messageId":"63","endLine":32,"endColumn":13},{"ruleId":"60","severity":1,"message":"68","line":33,"column":9,"nodeType":"62","messageId":"63","endLine":33,"endColumn":16},"no-native-reassign",["69"],"no-negated-in-lhs",["70"],"no-unused-vars","'pageIndex' is assigned a value but never used.","Identifier","unusedVar","'loading' is assigned a value but never used.","'error' is assigned a value but never used.","'take' is assigned a value but never used.","'skip' is assigned a value but never used.","'orderBy' is assigned a value but never used.","no-global-assign","no-unsafe-negation"]